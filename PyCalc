import numpy as np

def calculator():
    while True:
        operations = ['+', '-', '*', '/', '%', '^', 'sin', 'cos', 'tan', 'log']
        operation = input("Selecione uma operação (+, -, *, /, %, ^, sin, cos, tan, log) ou 'q' para sair: ")
        if operation == 'q':
            print("Encerrando a calculadora.")
            break
        if operation not in operations:
            print(f"Operação inválida. Por favor, selecione uma das seguintes operações: {operations}")
            continue

        try:
            num1 = float(input("Digite o primeiro número: "))
        except ValueError:
            print("Por favor, digite um número válido.")
            continue

        if operation in ['sin', 'cos', 'tan', 'log']:
            if operation == 'log':
                try:
                    base = float(input("Digite a base do logaritmo: "))
                except ValueError:
                    print("Por favor, digite um número válido para a base.")
                    continue
                result = np.log(num1) / np.log(base)
            else:
                result = getattr(np, operation)(num1)
            print(f"Resultado: {result}")
            continue

        try:
            num2 = float(input("Digite o segundo número: "))
        except ValueError:
            print("Por favor, digite um número válido.")
            continue

        if operation == '/' and num2 == 0:
            print("Não é possível dividir por zero.")
            continue

        if operation == '+':
            result = num1 + num2
        elif operation == '-':
            result = num1 - num2
        elif operation == '*':
            result = num1 * num2
        elif operation == '/':
            result = num1 / num2
        elif operation == '%':
            result = num1 % num2
        else:  # operation == '^'
            result = num1 ** num2

        print(f"Resultado: {result}")

calculator()

        
    
    
         
    
        
        

    
        
        

    
        
    
        
    
        
    
        
    
        
    
     
